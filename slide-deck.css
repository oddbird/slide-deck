slide-deck {
  --gap: clamp(8px, 0.25em + 1vw, 16px);
  container: slide-deck / inline-size;
  display: grid;

  &[slide-view=grid],
  &[slide-view=script] {
    --slide-ratio: 16/9;
    --target-margin: var(--gap);
    --target-outline: medium dotted;
    --target-outline-offset: calc(var(--gap) * 0.5);
    gap: var(--gap);
    padding: var(--gap);
  }

  &[slide-view=grid] {
    grid-template-columns: repeat(auto-fill, minmax(min(50ch, 100%), 1fr));
  }

  &[slide-view=solo] {
    --slide-height: 100svh;
  }

  &[slide-view=script] {
    display: grid;
    grid-template-columns: 65ch 1fr;

    [slide-container] {
      display: grid;
      grid-column: 1 / -1;
      grid-template-columns: subgrid;
      scroll-margin-block: var(--target-margin);
    }

    [slide-canvas] {
      grid-column: 1;
      scale: var(--scaled-slide, 0.80);
    }

    [slide-note] {
      font-size: var(--note-font-size, 120%);
      grid-column: 2;
      max-width: 65ch;
      padding: var(--gap);
    }

    [slide-canvas]:target,
    [slide-container]:target [slide-canvas] {
      --scaled-slide: 1;
    }

    [slide-container]:target {
      --note-font-size: 150%;
    }
  }

  &[blank-slide]::after {
    content: '';
    background-color: var(--blank-color, black);
    position: absolute;
    inset: 0;
  }

  &[blank-slide=white] {
    --blank-color: white;
  }

  [slide-canvas]:target,
  [slide-container]:target [slide-canvas] {
    outline: var(--target-outline);
    outline-offset: var(--target-outline-offset);
  }

  [slide-canvas] {
    aspect-ratio: var(--slide-ratio);
    border: thin solid;
    box-sizing: border-box;
    container: slide-item / inline-size;
    min-height: var(--slide-height);
    padding: var(--gap);
    scroll-margin-block: var(--target-margin);
  }

  [slide-note] {
    margin-block: var(--gap);
  }

  &::part(control-panel) {
    min-width: min(50ch, 100%);
    padding: 0;
  }

  &::part(panel-header) {
    border-block-end: thin solid;
    display: grid;
    gap: var(--gap);
    grid-template-columns: 1fr auto;
    padding: var(--gap);
  }

  &::part(controls) {
    padding: var(--gap);
  }

  button,
  &::part(button) {
    font: inherit;
    padding-inline: var(--gap);
    border: medium solid transparent;
  }

  [aria-pressed=true],
  &::part(pressed) {
    border-color: currentColor;
  }
}
